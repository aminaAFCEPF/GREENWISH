<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html">

<ui:composition template="/WEB-INF/arche.xhtml">
	<ui:define name="foot">
		<script type="text/javascript">
            $(function () {
                $('#datetimepicker2').datetimepicker({
                                   
                });
            });
        </script>

	</ui:define>
	<ui:define name="content">

		<body>
			<h:form>
				<!-- === BEGIN CONTENT === -->
				<div id="content">

					<div
						class="container background-white bottom-border  padding-left-0 padding-right-0">
						<div class="row">
							<h1>#{mbFicheObjet.objet.intitule}</h1>
						</div>
						<div class="margin-bottom-10">
							<ol class="breadcrumb ">
								<li><h:commandLink
										action="#{mbFicheObjet.redirectionReinitia('Catalogue.xhtml')}"
										value="Catalogue"></h:commandLink></li>
								<li class="active">Fiche objet</li>
							</ol>
						</div>
					</div>
					<div class="container background-gray-lighter ">
						<div style="display:#{(mbFicheObjet.notMyObjet)?'none':'block'}">
							<div class="container background-gray-lighter ">
								<h1>Essaie pas d'échanger avec toi-même !</h1>
							</div>
						</div>
						<div style="display:#{(mbFicheObjet.cptPointsOk)?'none':'block'}">
							<div class="container background-gray-lighter ">
								<h1>Pas assez de points! Proposez un objet</h1>
							</div>
						</div>
						<div class="row margin-vert-30">
							<div class="col-md-6 ">

								<div class=" borderperso">
									<img class="grande-img "
										src="#{mbFicheObjet.images.get(0).image}" alt="image1" />
								</div>
								<div class="row centrerElementHorizontal margin-top-5">
									<div class="col-md-3 div-petite-img">
										<a href="#" class="thumbnail"> <img
											src="#{mbFicheObjet.images.get(1).image}" class="petite-img" /></a>
									</div>
									<div class="col-md-3 div-petite-img ">
										<a href="#" class="thumbnail"> <img
											src="#{mbFicheObjet.images.get(2).image}" class="petite-img " /></a>
									</div>
									<div class="col-md-3 div-petite-img ">
										<a href="#" class="thumbnail"> <img
											src="#{mbFicheObjet.images.get(3).image}" class="petite-img " /></a>
									</div>
								</div>
							</div>
							<div class=" col-md-6 background-white borderperso">
								<div class="row">
									<br />
									<div class="col-md-6 background-white">
										<div>
											<h3>
												#{mbFicheObjet.objet.valeur.valeur} <img class="idflocon"
													src="resources/img/blog/flocon.png" alt="thumb1" />
											</h3>
										</div>
										<br />
										<div>
											<div
												style="display:#{(mbFicheObjet.estVide(mbFicheObjet.objet.domaine.domaine))?'none':'block'}">
												<a class="blog-tag ">#{mbFicheObjet.objet.domaine.domaine}</a>
											</div>
											<div
												style="display:#{(mbFicheObjet.estVide(mbFicheObjet.objet.categorie.intitule))?'none':'block'}">
												<a class="blog-tag ">#{mbFicheObjet.objet.categorie.intitule}</a>
											</div>
											<div
												style="display:#{(mbFicheObjet.estVide(mbFicheObjet.objet.souscategorie.intitule))?'none':'block'}">
												<a class="blog-tag ">#{mbFicheObjet.objet.souscategorie.intitule}</a>
											</div>
											<div
												style="display:#{(mbFicheObjet.estVide(mbFicheObjet.valeur))?'none':'block'}">
												<a class="blog-tag ">#{mbFicheObjet.objet.valeur.valeur}
													<img class="idflocon" src="resources/img/blog/flocon.png"
													alt="thumb1" />
												</a>
											</div>
											<div
												style="display:#{(mbFicheObjet.estVide(mbFicheObjet.idAge))?'none':'block'}">
												<a class="blog-tag ">#{mbFicheObjet.objet.trancheAge.ageMini}-#{mbFicheObjet.objet.trancheAge.ageMaxi}
													ans</a>
											</div>
											<div
												style="display:#{(mbFicheObjet.estVide(mbFicheObjet.objet.intitule))?'none':'block'}">
												<a class="blog-tag ">#{mbFicheObjet.objet.intitule}</a>
											</div>


										</div>
									</div>
									<div class="col-md-6 text-right">
										<h3>
											Proposé par
											#{mbFicheObjet.objet.listeProposition.participant.nom} <a
												href="#"></a>
										</h3>
										<br />
										<div class="rating">
											<div class="stars">
												<span class="fa fa-star checked"></span> <span
													class="fa fa-star checked"></span> <span
													class="fa fa-star checked"></span> <span class="fa fa-star"></span>
												<span class="fa fa-star"></span>
											</div>
											<span class="review-no">#{mbFicheObjet.participantDonneur.avis.size()} avis</span>
										</div>
										<span>Distance : 3 km</span>
									</div>

								</div>
								<br />
								<div class="justifier">

									<h3>Description</h3>
									<br />
									<p>#{mbFicheObjet.objet.description}</p>
								</div>
							</div>
						</div>
					</div>
					<div
						class="container background-gray-lighter centrerElementHorizontal">
						<h:commandButton class=" btn btn-echange margin-bottom-20 borderRadius"
							action="#{mbFicheObjet.estConnecte()}"
							value="Proposer un échange"/>
					</div>
					<div
						style="display:#{(mbFicheObjet.connecteAndNotMyObjetCptPointsOk)?'block':'none'}">

						<div class="container background-gray-lighter ">
							<div class="background-white borderperso">
								<div
									class="row margin-vert-10 centrerElementHorizontal
								 padding-top-10 padding-bottom-10 padding-horiz-20 ">
									<div class="col-md-8">
										<div>
											<label>Nouveau Message : </label>
											<h:inputTextarea styleClass="form-control"
												value="#{mbFicheTransfert.message}" rows="8" />
										</div>
									</div>
									<div class="col-md-4">
										<div
											class="borderperso background-white centrerElementHorizontal">
											<h3>Disponibilités</h3>

										</div>
										<table id="tableDispos"
											class="table table-hover table-responsive">
											<thead>
												<tr>
													<th>Jour</th>
													<th>heure</th>
												</tr>
											</thead>
											<tbody>
												<h:outputText value="#{mbFicheObjet.ajoutLigneTabHTML(mbFicheObjet.participantDonneur)}"
													escape="html" />
											</tbody>
										</table>
									</div>
								</div>
								<div
									class="row margin-vert-10 centrerElementHorizontal
								 padding-top-10 padding-horiz-20 ">
									<div class="col-md-2">
										<label class="col-md-offset-1">Lieu de rendez-vous</label>
									</div>
									<div class="">
										<h:selectOneMenu id="participant"
											value="#{mbFicheTransfert.selectedIdParticipant}"
											class="form-control margin-bottom-20 fa-plus" style="width:90%">
											<f:selectItems value="#{mbFicheObjet.participants}"
												var="participant" itemLabel="#{participant.adresse}"
												itemValue="#{participant.idparticipant}" />
										</h:selectOneMenu>
									</div>
									<div class="col-md-2">
										<label class="col-md-offset-1">Date du rendez-vous</label>
									</div>
									<div class="col-md-4">
										<div class="form-group">
											<div class="input-group date background-white"
												style="opacity: 1;" id="datetimepicker2">
												<h:inputText class="form-control"
													value="#{mbFicheTransfert.dateDuRdvString}" />
												<span class="input-group-addon"> <span
													class="glyphicon glyphicon-calendar"></span>
												</span>
											</div>
										</div>
									</div>
									<div class="col-md-2">
										<h:commandButton
											class=" col-md-offset-10 btn btn-primary margin-bottom-20 pull-right borderRadius"
											value="Envoyer"
											action="#{mbFicheTransfert.creerEchange(mbFicheObjet.objet, mbCnx.participant)}" />
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</h:form>
		</body>
	</ui:define>
</ui:composition>
</html>
